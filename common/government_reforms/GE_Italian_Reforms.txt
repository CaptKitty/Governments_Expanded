#Tier 1
duchi_montefeltro = {
	icon = urbino_duchi_montefeltro
	allow_normal_conversion = yes
	potential = {
		OR = {
			have_had_reform = duchi_montefeltro
			tag = URB
			was_tag = URB
		}
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 20
	modifiers = {
		idea_cost = -0.05
		mercenary_cost = -0.15
	}
	custom_attributes = {
		enables_mercenary_militarization_mechanic = yes
	}
}
florentine_republic = {
	icon = florentine_republic
	allow_normal_conversion = yes
	potential = {
		OR = {
			have_had_reform = florentine_republic
			tag = LAN
			tag = TUS
		}
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 20
	modifiers = {
		trade_efficiency = 0.1
		max_absolutism = -30
		trade_deals_slots = 0.01
	}
	boost_income = yes
	duration = 6
	factions = {
		mr_aristocrats
		mr_traders
		mr_guilds
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = {
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
		}
		#can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			has_dlc = "Mare Nostrum"
		}
		can_use_trade_post = yes
		#can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		#is_merchant_republic = yes
	}
}
genoan_republic_reform = {
	icon = genoa
	allow_normal_conversion = yes
	modifiers = {
		max_absolutism = -50
		global_trade_goods_size_modifier = 0.10
		merchants = 1
		trade_deals_slots = 0.03
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 50
	legacy_equivalent = merchant_republic
	potential = {
		OR = {
			tag = GEN
			was_tag = GEN
		}
	}
	boost_income = yes
	duration = 4
	factions = {
		mr_aristocrats
		mr_traders
		mr_guilds
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = {
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
		}
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			has_dlc = "Mare Nostrum"
		}
		can_use_trade_post = yes
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		is_merchant_republic = yes
	}
}
italian_monarchy = {
	icon = italian_monarchy
	allow_normal_conversion = yes
	valid_for_nation_designer = no
	potential = {
		tag = ITA
	}
	modifiers = {
		legitimacy = 1
		governing_capacity = 150
	}
	custom_attributes = {
		enables_italian_dibattito_italiano = yes
		enables_italian_monarchici_vs_repubblicani = yes
	}
}
italian_republic = {
	icon = italian_republic
	allow_normal_conversion = yes
	valid_for_nation_designer = no
	potential = {
		tag = ITA
	}
	modifiers = {
		republican_tradition = 0.3
		governing_capacity = 150
	}
	duration = 5
	custom_attributes = {
		enables_italian_dibattito_italiano = yes
		enables_italian_monarchici_vs_repubblicani = yes
	}
	conditional = {
		allow = { has_dlc = "Common Sense" }
		has_parliament = yes
	}
}
kingdom_of_sardinia_reform = {
	icon = kingdom_of_sardinia
	allow_normal_conversion = yes
	valid_for_nation_designer = no
	potential = {
		OR = {
			primary_culture = sardinian
			primary_culture = piedmontese
			has_reform = kingdom_of_sardinia_reform
		}
	}
	trigger = {
		tag = SPI
		OR = {
			primary_culture = sardinian
			primary_culture = piedmontese
			has_reform = kingdom_of_sardinia_reform
		}
	}
	modifiers = {
		max_absolutism = 5
		state_maintenance_modifier = -0.10
		primary_development_cost = 0.10
	}
	ai = {
		factor = 100
	}
}
kingdom_of_sicily_reform = {
	icon = sicily_kingdom_of_sicily
	allow_normal_conversion = yes
	valid_for_nation_designer = no
	potential = {
		OR = {
			primary_culture = neapolitan
			primary_culture = sicilian
			has_reform = kingdom_of_sicily_reform
		}
	}
	trigger = {
		OR = {
			primary_culture = neapolitan
			primary_culture = sicilian
			has_reform = kingdom_of_sicily_reform
		}
	}
	modifiers = {
		max_absolutism = 5
		global_autonomy = -0.025
		primary_development_cost = 0.10
	}
	ai = {
		factor = 100
	}
}
mantua_house_of_gonzaga_reform = {
	icon = mantua_house_of_gonzaga
	allow_normal_conversion = yes
	valid_for_nation_designer = no
	potential = {
		OR = {
			tag = MAN
			was_tag = MAN
			has_reform = mantua_house_of_gonzaga_reform
		}
	}
	trigger = {
		OR = {
			tag = MAN
			was_tag = MAN
			has_reform = mantua_house_of_gonzaga_reform
		}
	}
	modifiers = {
		max_absolutism = 5
		diplomatic_reputation = 1
	}
	custom_attributes = {
		enables_marriage_policies = yes #+5% improve relations for every +1 diplomatic reputation (capped at 25%)
	}
	ai = {
		factor = 100
	}
}
signoria_baglioni = {
	icon = perugia_signoria_baglioni
	allow_normal_conversion = yes
	valid_for_nation_designer = yes
	nation_designer_cost = 0
	nation_designer_trigger = {
		culture_group = latin
	}
	potential = {
		OR = {
			have_had_reform = signoria_baglioni
			tag = PGA
			was_tag = PGA
		}
	}
	duration = 12
	royal_marriage = yes
	modifiers = {
		reform_progress_growth = 0.15
		mercenary_cost = -0.15
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		enables_nepotism = yes
		enables_mercenary_militarization_mechanic = yes
	}
}

#Tier 2
growth_signoria_reform = {
	icon = "king"
	allow_normal_conversion = yes
	effect = {
		change_variable = {
			which = Noble_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Noble_Influence
			value = -1
		}
	}
	potential = {
		culture_group = latin
		is_year = 1490
	}
	trigger = {
		culture_group = latin
	}
	modifiers = {
		stability_cost_modifier = -0.15
		army_tradition = 0.25
		nobles_influence_modifier = 0.05
	}
	ai = {
		factor = 10
	}
}
legacy_of_st_ambrose_reform = {
	icon = hansa_trade
	allow_normal_conversion = yes
	potential = {
		OR = {
			primary_culture = lombard
			has_reform = legacy_of_st_ambrose_reform
		}
	}
	effect = {
		change_variable = {
			which = Populist_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Populist_Influence
			value = -1
		}
	}
	modifiers = {
		tolerance_own = 1
		innovativeness_gain = 0.5
		monarch_lifespan = 0.10
	}
	ai = {
		factor = 100
	}
	#5% Burgher Influence, 10% Burgher Loyalty
}
support_borghese_reform = {
	icon = "peasants"
	allow_normal_conversion = yes
	potential = {
		culture_group = latin
		NOT = { has_reform = pirate_republic_reform }
		is_year = 1490
	}
	effect = {
		change_variable = {
			which = Plutocrat_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Plutocrat_Influence
			value = -1
		}
	}
	modifiers = {
		republican_tradition = 0.3
		burghers_influence_modifier = 0.10
	}
	ai = {
		factor = 10
	}
}
support_ghibbelline_reform = {
	icon = "italy_ghibbelline"
	allow_normal_conversion = yes
	effect = {
		change_variable = {
			which = Noble_Influence
			value = 1
		}
		every_country = {
			limit = {
				has_reform = support_ghibbelline_reform
				OR = {
					NOT = {
						has_opinion_modifier = {
							who = ROOT
							modifier = opinion_same_ghuelpsghibbellines
						}
					}
					NOT = {
						reverse_has_opinion_modifier = {
							who = ROOT
							modifier = opinion_same_ghuelpsghibbellines
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_opinion_modifier = {
							who = ROOT
							modifier = opinion_same_ghuelpsghibbellines
						}
					}
				}
				add_opinion = {
					who = ROOT
					modifier = opinion_same_ghuelpsghibbellines
				}
			}
			if = {
				limit = {
					NOT = {
						reverse_has_opinion_modifier = {
							who = ROOT
							modifier = opinion_same_ghuelpsghibbellines
						}
					}
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = opinion_same_ghuelpsghibbellines
				}
			}
		}
		every_country = {
			limit = {
				has_reform = support_guelphs_reform
				OR = {
					NOT = {
						has_opinion_modifier = {
							who = ROOT
							modifier = opinion_opposite_ghuelpsghibbellines
						}
					}
					NOT = {
						reverse_has_opinion_modifier = {
							who = ROOT
							modifier = opinion_opposite_ghuelpsghibbellines
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_opinion_modifier = {
							who = ROOT
							modifier = opinion_opposite_ghuelpsghibbellines
						}
					}
				}
				add_opinion = {
					who = ROOT
					modifier = opinion_opposite_ghuelpsghibbellines
				}
			}
			if = {
				limit = {
					NOT = {
						reverse_has_opinion_modifier = {
							who = ROOT
							modifier = opinion_opposite_ghuelpsghibbellines
						}
					}
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = opinion_opposite_ghuelpsghibbellines
				}
			}
		}
		add_army_tradition = 5
	}
	removed_effect = {
		change_variable = {
			which = Noble_Influence
			value = -1
		}
		every_country = {
			limit = {
				OR = {
					has_opinion_modifier = {
						who = ROOT
						modifier = opinion_same_ghuelpsghibbellines
					}
					reverse_has_opinion_modifier = {
						who = ROOT
						modifier = opinion_same_ghuelpsghibbellines
					}
				}
			}
			if = {
				limit = {
					has_opinion_modifier = {
						who = ROOT
						modifier = opinion_same_ghuelpsghibbellines
					}
				}
				remove_opinion = {
					who = ROOT
					modifier = opinion_same_ghuelpsghibbellines
				}
				add_opinion = {
					who = ROOT
					modifier = opinion_same_ghuelpsghibbellines_timed
				}
			}
			if = {
				limit = {
					reverse_has_opinion_modifier = {
						who = ROOT
						modifier = opinion_same_ghuelpsghibbellines
					}
				}
				reverse_remove_opinion = {
					who = ROOT
					modifier = opinion_same_ghuelpsghibbellines
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = opinion_same_ghuelpsghibbellines_timed
				}
			}
		}
		every_country = {
			limit = {
				OR = {
					has_opinion_modifier = {
						who = ROOT
						modifier = opinion_opposite_ghuelpsghibbellines
					}
					reverse_has_opinion_modifier = {
						who = ROOT
						modifier = opinion_opposite_ghuelpsghibbellines
					}
				}
			}
			if = {
				limit = {
					has_opinion_modifier = {
						who = ROOT
						modifier = opinion_opposite_ghuelpsghibbellines
					}
				}
				remove_opinion = {
					who = ROOT
					modifier = opinion_opposite_ghuelpsghibbellines
				}
				add_opinion = {
					who = ROOT
					modifier = opinion_opposite_ghuelpsghibbellines_timed
				}
			}
			if = {
				limit = {
					reverse_has_opinion_modifier = {
						who = ROOT
						modifier = opinion_opposite_ghuelpsghibbellines
					}
				}
				reverse_remove_opinion = {
					who = ROOT
					modifier = opinion_opposite_ghuelpsghibbellines
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = opinion_opposite_ghuelpsghibbellines_timed
				}
			}
		}
	}
	potential = {
		culture_group = latin
		NOT = { is_year = 1490 }
	}
	trigger = {
		NOT = { is_year = 1490 }
	}
	modifiers = {
		diplomatic_reputation = 1
		improve_relation_modifier = 0.15
		army_tradition = 0.25
		republican_tradition = -0.25
	}
	custom_attributes = {
		enables_support_ghibbellines = yes #Fuckdapope
	}
	ai = {
		factor = 10
	}
}
support_ghibbelline_republic_reform = {
	icon = "italy_ghibbelline"
	allow_normal_conversion = yes
	effect = {
		change_variable = {
			which = Oliarch_Influence
			value = 1
		}
		every_country = {
			limit = {
				has_reform = support_ghibbelline_reform
				has_reform = support_ghibbelline_republic_reform
				OR = {
					NOT = {
						has_opinion_modifier = {
							who = ROOT
							modifier = opinion_same_ghuelpsghibbellines
						}
					}
					NOT = {
						reverse_has_opinion_modifier = {
							who = ROOT
							modifier = opinion_same_ghuelpsghibbellines
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_opinion_modifier = {
							who = ROOT
							modifier = opinion_same_ghuelpsghibbellines
						}
					}
				}
				add_opinion = {
					who = ROOT
					modifier = opinion_same_ghuelpsghibbellines
				}
			}
			if = {
				limit = {
					NOT = {
						reverse_has_opinion_modifier = {
							who = ROOT
							modifier = opinion_same_ghuelpsghibbellines
						}
					}
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = opinion_same_ghuelpsghibbellines
				}
			}
		}
		every_country = {
			limit = {
				OR = {
					has_reform = support_guelphs_reform
					has_reform = support_guelphs_republic_reform
				}
				OR = {
					NOT = {
						has_opinion_modifier = {
							who = ROOT
							modifier = opinion_opposite_ghuelpsghibbellines
						}
					}
					NOT = {
						reverse_has_opinion_modifier = {
							who = ROOT
							modifier = opinion_opposite_ghuelpsghibbellines
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_opinion_modifier = {
							who = ROOT
							modifier = opinion_opposite_ghuelpsghibbellines
						}
					}
				}
				add_opinion = {
					who = ROOT
					modifier = opinion_opposite_ghuelpsghibbellines
				}
			}
			if = {
				limit = {
					NOT = {
						reverse_has_opinion_modifier = {
							who = ROOT
							modifier = opinion_opposite_ghuelpsghibbellines
						}
					}
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = opinion_opposite_ghuelpsghibbellines
				}
			}
		}
		add_army_tradition = 5
	}
	removed_effect = {
		change_variable = {
			which = Oliarch_Influence
			value = -1
		}
		every_country = {
			limit = {
				OR = {
					has_opinion_modifier = {
						who = ROOT
						modifier = opinion_same_ghuelpsghibbellines
					}
					reverse_has_opinion_modifier = {
						who = ROOT
						modifier = opinion_same_ghuelpsghibbellines
					}
				}
			}
			if = {
				limit = {
					has_opinion_modifier = {
						who = ROOT
						modifier = opinion_same_ghuelpsghibbellines
					}
				}
				remove_opinion = {
					who = ROOT
					modifier = opinion_same_ghuelpsghibbellines
				}
				add_opinion = {
					who = ROOT
					modifier = opinion_same_ghuelpsghibbellines_timed
				}
			}
			if = {
				limit = {
					reverse_has_opinion_modifier = {
						who = ROOT
						modifier = opinion_same_ghuelpsghibbellines
					}
				}
				reverse_remove_opinion = {
					who = ROOT
					modifier = opinion_same_ghuelpsghibbellines
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = opinion_same_ghuelpsghibbellines_timed
				}
			}
		}
		every_country = {
			limit = {
				OR = {
					has_opinion_modifier = {
						who = ROOT
						modifier = opinion_opposite_ghuelpsghibbellines
					}
					reverse_has_opinion_modifier = {
						who = ROOT
						modifier = opinion_opposite_ghuelpsghibbellines
					}
				}
			}
			if = {
				limit = {
					has_opinion_modifier = {
						who = ROOT
						modifier = opinion_opposite_ghuelpsghibbellines
					}
				}
				remove_opinion = {
					who = ROOT
					modifier = opinion_opposite_ghuelpsghibbellines
				}
				add_opinion = {
					who = ROOT
					modifier = opinion_opposite_ghuelpsghibbellines_timed
				}
			}
			if = {
				limit = {
					reverse_has_opinion_modifier = {
						who = ROOT
						modifier = opinion_opposite_ghuelpsghibbellines
					}
				}
				reverse_remove_opinion = {
					who = ROOT
					modifier = opinion_opposite_ghuelpsghibbellines
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = opinion_opposite_ghuelpsghibbellines_timed
				}
			}
		}
	}
	potential = {
		culture_group = latin
		NOT = { is_year = 1490 }
	}
	trigger = {
		NOT = { is_year = 1490 }
	}
	modifiers = {
		diplomatic_reputation = 1
		improve_relation_modifier = 0.15
		army_tradition = 0.25
		republican_tradition = -0.25
	}
	custom_attributes = {
		enables_support_ghibbellines = yes #Fuckdapope
	}
	ai = {
		factor = 10
	}
}
support_guelphs_reform = {
	icon = "italy_guelph"
	allow_normal_conversion = yes
	
	effect = {
		change_variable = {
			which = Burgher_Influence
			value = 1
		}
		every_country = {
			limit = {
				has_reform = support_guelphs_reform
				OR = {
					NOT = {
						has_opinion_modifier = {
							who = ROOT
							modifier = opinion_same_ghuelpsghibbellines
						}
					}
					NOT = {
						reverse_has_opinion_modifier = {
							who = ROOT
							modifier = opinion_same_ghuelpsghibbellines
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_opinion_modifier = {
							who = ROOT
							modifier = opinion_same_ghuelpsghibbellines
						}
					}
				}
				add_opinion = {
					who = ROOT
					modifier = opinion_same_ghuelpsghibbellines
				}
			}
			if = {
				limit = {
					NOT = {
						reverse_has_opinion_modifier = {
							who = ROOT
							modifier = opinion_same_ghuelpsghibbellines
						}
					}
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = opinion_same_ghuelpsghibbellines
				}
			}
		}
		every_country = {
			limit = {
				has_reform = support_ghibbelline_reform
				OR = {
					NOT = {
						has_opinion_modifier = {
							who = ROOT
							modifier = opinion_opposite_ghuelpsghibbellines
						}
					}
					NOT = {
						reverse_has_opinion_modifier = {
							who = ROOT
							modifier = opinion_opposite_ghuelpsghibbellines
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_opinion_modifier = {
							who = ROOT
							modifier = opinion_opposite_ghuelpsghibbellines
						}
					}
				}
				add_opinion = {
					who = ROOT
					modifier = opinion_opposite_ghuelpsghibbellines
				}
			}
			if = {
				limit = {
					NOT = {
						reverse_has_opinion_modifier = {
							who = ROOT
							modifier = opinion_opposite_ghuelpsghibbellines
						}
					}
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = opinion_opposite_ghuelpsghibbellines
				}
			}
		}
	}
	removed_effect = {
		change_variable = {
			which = Burgher_Influence
			value = -1
		}
		every_country = {
			limit = {
				OR = {
					has_opinion_modifier = {
						who = ROOT
						modifier = opinion_same_ghuelpsghibbellines
					}
					reverse_has_opinion_modifier = {
						who = ROOT
						modifier = opinion_same_ghuelpsghibbellines
					}
				}
			}
			if = {
				limit = {
					has_opinion_modifier = {
						who = ROOT
						modifier = opinion_same_ghuelpsghibbellines
					}
				}
				remove_opinion = {
					who = ROOT
					modifier = opinion_same_ghuelpsghibbellines
				}
				add_opinion = {
					who = ROOT
					modifier = opinion_same_ghuelpsghibbellines_timed
				}
			}
			if = {
				limit = {
					reverse_has_opinion_modifier = {
						who = ROOT
						modifier = opinion_same_ghuelpsghibbellines
					}
				}
				reverse_remove_opinion = {
					who = ROOT
					modifier = opinion_same_ghuelpsghibbellines
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = opinion_same_ghuelpsghibbellines_timed
				}
			}
		}
		every_country = {
			limit = {
				OR = {
					has_opinion_modifier = {
						who = ROOT
						modifier = opinion_opposite_ghuelpsghibbellines
					}
					reverse_has_opinion_modifier = {
						who = ROOT
						modifier = opinion_opposite_ghuelpsghibbellines
					}
				}
			}
			if = {
				limit = {
					has_opinion_modifier = {
						who = ROOT
						modifier = opinion_opposite_ghuelpsghibbellines
					}
				}
				remove_opinion = {
					who = ROOT
					modifier = opinion_opposite_ghuelpsghibbellines
				}
				add_opinion = {
					who = ROOT
					modifier = opinion_opposite_ghuelpsghibbellines_timed
				}
			}
			if = {
				limit = {
					reverse_has_opinion_modifier = {
						who = ROOT
						modifier = opinion_opposite_ghuelpsghibbellines
					}
				}
				reverse_remove_opinion = {
					who = ROOT
					modifier = opinion_opposite_ghuelpsghibbellines
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = opinion_opposite_ghuelpsghibbellines_timed
				}
			}
		}
	}
	
	potential = {
		culture_group = latin
		NOT = { is_year = 1490 }
	}
	trigger = {
		NOT = { is_year = 1490 }
	}
	modifiers = {
		development_cost = -0.05
		global_trade_goods_size_modifier = 0.10
		papal_influence = 0.5
		legitimacy = -0.5
	}
	custom_attributes = {
		enables_support_ghuelps = yes #Fuckdaemprah
	}
	ai = {
		factor = 10
	}
}
support_guelphs_republic_reform = {
	icon = "italy_guelph"
	allow_normal_conversion = yes
	
	effect = {
		change_variable = {
			which = Plutocrat_Influence
			value = 1
		}
		every_country = {
			limit = {
				OR = {
					has_reform = support_guelphs_reform
					has_reform = support_guelphs_republic_reform
				}
				OR = {
					NOT = {
						has_opinion_modifier = {
							who = ROOT
							modifier = opinion_same_ghuelpsghibbellines
						}
					}
					NOT = {
						reverse_has_opinion_modifier = {
							who = ROOT
							modifier = opinion_same_ghuelpsghibbellines
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_opinion_modifier = {
							who = ROOT
							modifier = opinion_same_ghuelpsghibbellines
						}
					}
				}
				add_opinion = {
					who = ROOT
					modifier = opinion_same_ghuelpsghibbellines
				}
			}
			if = {
				limit = {
					NOT = {
						reverse_has_opinion_modifier = {
							who = ROOT
							modifier = opinion_same_ghuelpsghibbellines
						}
					}
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = opinion_same_ghuelpsghibbellines
				}
			}
		}
		every_country = {
			limit = {
				OR = {
					has_reform = support_ghibbelline_reform
					has_reform = support_ghibbelline_republic_reform
				}
				OR = {
					NOT = {
						has_opinion_modifier = {
							who = ROOT
							modifier = opinion_opposite_ghuelpsghibbellines
						}
					}
					NOT = {
						reverse_has_opinion_modifier = {
							who = ROOT
							modifier = opinion_opposite_ghuelpsghibbellines
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_opinion_modifier = {
							who = ROOT
							modifier = opinion_opposite_ghuelpsghibbellines
						}
					}
				}
				add_opinion = {
					who = ROOT
					modifier = opinion_opposite_ghuelpsghibbellines
				}
			}
			if = {
				limit = {
					NOT = {
						reverse_has_opinion_modifier = {
							who = ROOT
							modifier = opinion_opposite_ghuelpsghibbellines
						}
					}
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = opinion_opposite_ghuelpsghibbellines
				}
			}
		}
	}
	removed_effect = {
		change_variable = {
			which = Plutocrat_Influence
			value = -1
		}
		every_country = {
			limit = {
				OR = {
					has_opinion_modifier = {
						who = ROOT
						modifier = opinion_same_ghuelpsghibbellines
					}
					reverse_has_opinion_modifier = {
						who = ROOT
						modifier = opinion_same_ghuelpsghibbellines
					}
				}
			}
			if = {
				limit = {
					has_opinion_modifier = {
						who = ROOT
						modifier = opinion_same_ghuelpsghibbellines
					}
				}
				remove_opinion = {
					who = ROOT
					modifier = opinion_same_ghuelpsghibbellines
				}
				add_opinion = {
					who = ROOT
					modifier = opinion_same_ghuelpsghibbellines_timed
				}
			}
			if = {
				limit = {
					reverse_has_opinion_modifier = {
						who = ROOT
						modifier = opinion_same_ghuelpsghibbellines
					}
				}
				reverse_remove_opinion = {
					who = ROOT
					modifier = opinion_same_ghuelpsghibbellines
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = opinion_same_ghuelpsghibbellines_timed
				}
			}
		}
		every_country = {
			limit = {
				OR = {
					has_opinion_modifier = {
						who = ROOT
						modifier = opinion_opposite_ghuelpsghibbellines
					}
					reverse_has_opinion_modifier = {
						who = ROOT
						modifier = opinion_opposite_ghuelpsghibbellines
					}
				}
			}
			if = {
				limit = {
					has_opinion_modifier = {
						who = ROOT
						modifier = opinion_opposite_ghuelpsghibbellines
					}
				}
				remove_opinion = {
					who = ROOT
					modifier = opinion_opposite_ghuelpsghibbellines
				}
				add_opinion = {
					who = ROOT
					modifier = opinion_opposite_ghuelpsghibbellines_timed
				}
			}
			if = {
				limit = {
					reverse_has_opinion_modifier = {
						who = ROOT
						modifier = opinion_opposite_ghuelpsghibbellines
					}
				}
				reverse_remove_opinion = {
					who = ROOT
					modifier = opinion_opposite_ghuelpsghibbellines
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = opinion_opposite_ghuelpsghibbellines_timed
				}
			}
		}
	}
	
	potential = {
		culture_group = latin
		NOT = { is_year = 1490 }
	}
	trigger = {
		NOT = { is_year = 1490 }
	}
	modifiers = {
		development_cost = -0.05
		global_trade_goods_size_modifier = 0.10
		papal_influence = 0.5
		legitimacy = -0.5
	}
	custom_attributes = {
		enables_support_ghuelps = yes #Fuckdaemprah
	}
	ai = {
		factor = 10
	}
}

angevin_nobles_reform = {
	icon = blood_tax
	allow_normal_conversion = yes
	effect = {
		change_variable = {
			which = Noble_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Noble_Influence
			value = -1
		}
	}
	potential = {
		OR = {
			primary_culture = neapolitan
			primary_culture = sicilian
			has_reform = angevin_nobles_reform
		}
	}
	trigger = {
		OR = {
			primary_culture = neapolitan
			primary_culture = sicilian
			has_reform = angevin_nobles_reform
		}
	}
	modifiers = {
		state_maintenance_modifier = -0.25
		nobles_influence_modifier = 0.10
	}
	custom_attributes = {
		enables_magnate_law = yes
	}
	ai = {
		factor = 100
	}
}
archdiocese_of_pisa_reform = {
	icon = admiralty_reform
	allow_normal_conversion = yes
	potential = {
		OR = {
			tag = PIS
			has_reform = archdiocese_of_pisa_reform
		}
	}
	trigger = {
		OR = {
			tag = PIS
			has_reform = archdiocese_of_pisa_reform
		}
	}
	effect = {
		change_variable = {
			which = Oliarch_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Oliarch_Influence
			value = -1
		}
	}
	modifiers = {
		tolerance_own = 0.5
		republican_tradition = 0.2
	}
	ai = {
		factor = 100
	}
}
demedici_dynasty_reform = {
	icon = de_medici
	allow_normal_conversion = yes
	potential = {
		OR = {	
			has_reform = demedici_dynasty_reform
			tag = LAN
		}
		NOT = { has_reform = pirate_republic_reform }
	}
	trigger = {
		OR = {	
			has_reform = demedici_dynasty_reform
			tag = LAN
		}
	}
	effect = {
		change_variable = {
			which = Oliarch_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Oliarch_Influence
			value = -1
		}
	}
	modifiers = {
		max_absolutism = 5
		republican_tradition = -0.1
	}
	custom_attributes = {
		enables_demedici = yes
		enables_influencial_ties = yes
	}
	royal_marriage = yes
	ai = {
		factor = 100
	}
}
genoa_merchants_reform = {
	icon = "merchant"
	allow_normal_conversion = yes
	potential = {
		OR = {
			tag = GEN
			was_tag = GEN
			AND = {
				tag = ITA
				owns_core_province = 101
			}
		}
		NOT = { has_reform = pirate_republic_reform }
	}
	trigger = {
		OR = {
			tag = GEN
			was_tag = GEN
			AND = {
				tag = ITA
				owns_core_province = 101
			}
		}
	}
	modifiers = {
		trade_range_modifier = 0.20
		envoy_travel_time = -0.15
	}
	custom_attributes = {
		enables_ianuensis_ergo_mercator = yes #10 global settler per every 30% Trade Efficiency
	}
	ai = {
		factor = 100
	}
}
parliament_of_sicily_reform = {
	icon = sicily_parliament_of_sicily
	allow_normal_conversion = yes
	effect = {
		change_variable = {
			which = Royal_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Royal_Influence
			value = -1
		}
	}
	potential = {
		OR = {
			primary_culture = neapolitan
			primary_culture = sicilian
			has_reform = parliament_of_sicily_reform
		}
	}
	trigger = {
		OR = {
			primary_culture = neapolitan
			primary_culture = sicilian
			has_reform = parliament_of_sicily_reform
		}
	}
	modifiers = {
		stability_cost_modifier = -0.15
		nobles_influence_modifier = -0.10
	}
	custom_attributes = {
		enables_noble_estate = yes
	}
	conditional = {
		allow = {
			has_dlc = "Common Sense"
		}
		has_parliament = yes
	}
	ai = {
		factor = 100
	}
}
rule_by_consent_reform = {
	icon = "peasants"
	allow_normal_conversion = yes
	potential = {
		OR = {
			tag = GEN
			was_tag = GEN
		}
		NOT = { has_reform = pirate_republic_reform }
	}
	trigger = {
		OR = {
			tag = GEN
			was_tag = GEN
		}
	}
	effect = {
		change_variable = {
			which = Populist_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Populist_Influence
			value = -1
		}
	}
	modifiers = {
		republican_tradition = 0.5
		stability_cost_modifier = 0.1
		max_absolutism = -10
	}
	custom_attributes = {
		enables_deposition = yes
	}
	ai = {
		factor = 100
	}
}

#Tier 3
customs_house_of_apena_sheep_reform = {
	icon = custom_house_apena_sheep
	allow_normal_conversion = yes
	effect = {
		change_variable = {
			which = Burgher_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Burgher_Influence
			value = -1
		}
	}
	potential = {
		OR = {
			primary_culture = neapolitan
			primary_culture = sicilian
			has_reform = customs_house_of_apena_sheep_reform
		}
	}
	trigger = {
		OR = {
			primary_culture = neapolitan
			primary_culture = sicilian
			has_reform = customs_house_of_apena_sheep_reform
		}
	}
	modifiers = {
		development_cost = -0.05
		governing_capacity_modifier = 0.05
	}
	custom_attributes = {
		enables_customs_house = yes #+25% Goods produced in Wool and Cloth provinces
	}
	ai = {
		factor = 100
	}
}


#Tier 4
italian_mercenaries_reform = {
	icon = italian_mercenary
	allow_normal_conversion = yes
	effect = {
		change_variable = {
			which = Burgher_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Burgher_Influence
			value = -1
		}
	}
	potential = {
		OR = {
			culture_group = latin
			has_reform = italian_mercenaries_reform
		}
	}
	trigger = {
		OR = {
			culture_group = latin
			has_reform = italian_mercenaries_reform
		}
	}
	modifiers = {
		mercenary_discipline = 0.05
		mercenary_manpower = 0.25
		war_exhaustion = -0.01
	}
	ai = {
		factor = 10
		modifier = {
			factor = 2
			has_idea_group = plutocracy_ideas
		}
	}
}
italian_mercenaries_reform_republic = {
	icon = italian_mercenary
	allow_normal_conversion = yes
	effect = {
		change_variable = {
			which = Plutocrat_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Plutocrat_Influence
			value = -1
		}
	}
	potential = {
		OR = {
			culture_group = latin
			has_reform = italian_mercenaries_reform
		}
	}
	trigger = {
		OR = {
			culture_group = latin
			has_reform = italian_mercenaries_reform
		}
	}
	modifiers = {
		mercenary_discipline = 0.05
		mercenary_manpower = 0.50
		war_exhaustion = -0.01
	}
	ai = {
		factor = 10
		modifier = {
			factor = 2
			has_idea_group = plutocracy_ideas
		}
	}
}
milizia_nationale_reform = {
	icon = latin_militia
	allow_normal_conversion = yes
	effect = {
		change_variable = {
			which = Royal_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Royal_Influence
			value = -1
		}
	}
	potential = {
		OR = {
			culture_group = latin
			has_reform = milizia_nationale_reform
		}
	}
	trigger = {
		OR = {
			culture_group = latin
			has_reform = milizia_nationale_reform
		}
	}
	modifiers = {
		land_morale = 0.05
		manpower_in_own_culture_provinces = 0.25
	}
	ai = {
		factor = 10
	}
}
milizia_nationale_reform_republic = {
	icon = latin_militia
	allow_normal_conversion = yes
	effect = {
		change_variable = {
			which = Populist_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Populist_Influence
			value = -1
		}
	}
	potential = {
		OR = {
			culture_group = latin
			has_reform = milizia_nationale_reform
		}
	}
	trigger = {
		OR = {
			culture_group = latin
			has_reform = milizia_nationale_reform
		}
	}
	modifiers = {
		land_morale = 0.05
		manpower_in_own_culture_provinces = 0.25
	}
	ai = {
		factor = 10
	}
}

almogavars_reform = {
	icon = catalan_company
	allow_normal_conversion = yes
	effect = {
		change_variable = {
			which = Burgher_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Burgher_Influence
			value = -1
		}
	}
	potential = {
		OR = {
			primary_culture = neapolitan
			primary_culture = sicilian
			accepted_culture = catalan
			has_reform = almogavars_reform
		}
	}
	trigger = {
		OR = {
			primary_culture = neapolitan
			primary_culture = sicilian
			accepted_culture = catalan
			has_reform = almogavars_reform
		}
	}
	modifiers = {
		spy_offence = 0.15
		infantry_power = 0.05
	}
	custom_attributes = {
		enables_fury_of_the_reconquista = yes #2.5% mercenary discipline and +5% Morale while at war with heathens
	}
	ai = {
		factor = 100
	}
}
alpini_reform = {
	icon = hesse_jaegers
	allow_normal_conversion = yes
	effect = { }
	removed_effect = { }
	potential = {
		OR = {
			tag = ITA
			has_reform = alpini_reform
		}
	}
	trigger = {
		OR = {
			tag = ITA
			has_reform = alpini_reform
		}
	}
	modifiers = {
		land_attrition = -0.10
		morale_damage = 0.05
	}
	custom_attributes = {
		enables_mountain_warfare = yes #+1 roll in Italy's hill, highlands and mountains provinces
	}
	conditional = {
		allow = { }
		# allow_alpini = yes
	}
	ai = {
		factor = 100
	}
}
crusading_tradition_reform = {
	icon = admiralty_reform
	allow_normal_conversion = yes
	potential = {
		OR = {
			tag = PIS
			has_reform = crusading_tradition_reform
		}
	}
	effect = {
		change_variable = {
			which = Oliarch_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Oliarch_Influence
			value = -1
		}
	}
	modifiers = {
		manpower_recovery_speed = 0.10
		siege_blockade_progress = 1	
	}
	custom_attributes = {
		enables_fury_of_the_reconquista = yes #2.5% mercenary discipline and +5% Morale while at war with heathens
	}
	ai = {
		factor = 100
	}
}
mantua_knightly_orders_reform = {
	icon = mantua_knightly_orders
	allow_normal_conversion = yes
	valid_for_nation_designer = no
	potential = {
		OR = {
			tag = MAN
			was_tag = MAN
			AND = {
				tag = ITA
				owns_core_province = 109
			}
			has_reform = mantua_knightly_orders_reform
		}
	}
	trigger = {
		religion = catholic
		OR = {
			tag = MAN
			was_tag = MAN
			AND = {
				tag = ITA
				owns_core_province = 109
			}
			has_reform = mantua_knightly_orders_reform
		}
	}
	modifiers = {
		cavalry_cost = -0.10
		prestige = 0.5
	}
	custom_attributes = {
		enables_ordine_cordone_giallo = yes #+12 yearly tax for every 5% idea cost
	}
	ai = {
		factor = 100
	}
}
nunziatella_reform = {
	icon = king
	allow_normal_conversion = yes
	effect = {
		change_variable = {
			which = Royal_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Royal_Influence
			value = -1
		}
	}
	potential = {
		OR = {
			tag = TTS
			primary_culture = neapolitan
			primary_culture = sicilian
			has_reform = nunziatella_reform
		}
	}
	trigger = {
		OR = {
			tag = TTS
			AND = {
				OR = {
					primary_culture = neapolitan
					primary_culture = sicilian
				}
				absolutism = 50
			}
			has_reform = nunziatella_reform
		}
	}
	modifiers = {
		artillery_power = 0.10
		siege_ability = 0.10
	}
	custom_attributes = {
		enables_artillery_academia = yes #+1 Land Leader Siege
	}
	ai = {
		factor = 100
	}
}

#Tier 6
advanced_bookkeeping_reform = {
	icon = "paper_money_map"
	allow_normal_conversion = yes
	effect = {
		change_variable = {
			which = Burgher_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Burgher_Influence
			value = -1
		}
	}
	potential = {
		culture_group = latin
	}
	trigger = {
		culture_group = latin
	}
	modifiers = {
		placed_merchant_power = 10
		interest = -1.0
	}
	ai = {
		factor = 10
	}
}
advanced_bookkeeping_reform_republic = {
	icon = "paper_money_map"
	allow_normal_conversion = yes
	effect = {
		change_variable = {
			which = Plutocrat_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Plutocrat_Influence
			value = -1
		}
	}
	potential = {
		culture_group = latin
		NOT = { primary_culture = venetian }
	}
	trigger = {
		culture_group = latin
		NOT = { primary_culture = venetian }
	}
	modifiers = {
		placed_merchant_power = 10
		interest = -1.0
	}
	ai = {
		factor = 10
	}
}
union_of_italian_states_reform = {
	icon = map_2
	allow_normal_conversion = yes
	effect = {
		change_variable = {
			which = Burgher_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Burgher_Influence
			value = -1
		}
	}
	potential = {
		OR = {
			culture_group = latin
			has_reform = union_of_italian_states_reform
		}
	}
	trigger = {
		culture_group = latin
	}
	modifiers = {
		min_autonomy = 10
		global_unrest = -2
		global_spy_defence = 0.20
	}
	ai = {
		factor = 10
	}
}

advanced_bookkeeping_reform_republic_venice = {
	icon = "paper_money_map"
	allow_normal_conversion = yes
	effect = {
		change_variable = {
			which = Plutocrat_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Plutocrat_Influence
			value = -1
		}
	}
	potential = {
		OR = {
			has_reform = advanced_bookkeeping_reform_republic_venice
			primary_culture = venetian
		}
	}
	trigger = {
		OR = {
			has_reform = advanced_bookkeeping_reform_republic_venice
			primary_culture = venetian
		}
	}
	modifiers = {
		merchants = 1
		placed_merchant_power = 10
		interest = -1.0
	}
	ai = {
		factor = 10
	}
}
communal_territories_reform = {
	icon = "map_2"
	allow_normal_conversion = yes
	effect = {
		change_variable = {
			which = Plutocrat_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Plutocrat_Influence
			value = -1
		}
	}
	potential = {
		OR = {
			tag = GEN
			was_tag = GEN
			has_reform = communal_territories_reform
		}
	}
	modifiers = {
		years_of_nationalism = -5
		min_autonomy_in_territories = -0.1
	}
	ai = {
		factor = 100
	}
}
mantua_mecenatismo_mantovano_reform = {
	icon = mantua_mecenatismo_mantovano
	allow_normal_conversion = yes
	valid_for_nation_designer = no
	potential = {
		OR = {
			tag = MAN
			has_reform = mantua_mecenatismo_mantovano_reform
		}
	}
	trigger = {
		OR = {
			tag = MAN
			has_reform = mantua_mecenatismo_mantovano_reform
		}
	}
	modifiers = {
		idea_cost = -0.05
		global_institution_spread = 0.10
		advisor_pool = 1
	}
	ai = {
		factor = 100
	}
}
neapolitan_renaissance_reform = {
	icon = aragon_alfonso
	allow_normal_conversion = yes
	effect = {
		change_variable = {
			which = Burgher_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Burgher_Influence
			value = -1
		}
	}
	potential = {
		OR = {
			primary_culture = neapolitan
			primary_culture = sicilian
			has_reform = neapolitan_renaissance_reform
		}
	}
	trigger = {
		OR = {
			primary_culture = neapolitan
			primary_culture = sicilian
			has_reform = neapolitan_renaissance_reform
		}
	}
	modifiers = {
		idea_cost = -0.10
		global_institution_spread = 0.25
	}
	ai = {
		factor = 100
	}
}

#Tier 7
council_of_petitions_reform = {
	icon = man_on_podium
	allow_normal_conversion = yes
	potential = {
		culture_group = latin
		NOT = {
			has_reform = pirate_republic_reform
		}
	}
	trigger = {
		culture_group = latin
	}
	effect = {
		change_variable = {
			which = Plutocrat_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Plutocrat_Influence
			value = -1
		}
	}
	modifiers = {
		global_unrest = -1
		reelection_cost = -0.1
	}
	ai = {
		factor = 10
	}
}
legacy_of_constitutionalism_reform = {
	icon = king_2
	allow_normal_conversion = yes
	potential = {
		OR = {
			culture_group = latin
			has_reform = legacy_of_constitutionalism_reform
		}
	}
	trigger = {
		OR = {
			culture_group = latin
			has_reform = legacy_of_constitutionalism_reform
		}
	}	
	modifiers = {
		max_absolutism = 5
		yearly_absolutism = 0.50
		legitimacy = -0.25
	}
	ai = {
		factor = 10
	}
}
the_consigliere_reform = {
	icon = nobleman
	allow_normal_conversion = yes
	potential = {
		culture_group = latin
		NOT = {
			has_reform = pirate_republic_reform
		}
	}
	trigger = {
		culture_group = latin
	}
	effect = {
		change_variable = {
			which = Oliarch_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Oliarch_Influence
			value = -1
		}
	}
	modifiers = {
		yearly_absolutism = 1
		candidate_random_bonus = 1
	}
	ai = {
		factor = 10
	}
}

andrea_doria_constitution_reform = {
	icon = andrea_doria
	allow_normal_conversion = yes
	potential = {
		OR = {
			tag = GEN
			was_tag = GEN
			has_reform = andrea_doria_constitution_reform
		}
		NOT = {
			has_reform = pirate_republic_reform
		}
	}
	trigger = {
		NOT = { has_reform = frequent_elections_reform }
		has_reform = rule_by_consent_reform
	}
	effect = {
		change_variable = {
			which = Oliarch_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Oliarch_Influence
			value = -1
		}
	}
	modifiers = {
		stability_cost_modifier = -0.25
		max_absolutism = 10
		election_cycle = -2
	}
	custom_attributes = {
		enables_disables_deposition = yes
	}
	ai = {
		factor = 100
	}
}
theatines_reform = {
	icon = theatines
	allow_normal_conversion = yes
	effect = {
		change_variable = {
			which = Clergy_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Clergy_Influence
			value = -1
		}
	}
	potential = {
		OR = {
			primary_culture = neapolitan
			primary_culture = sicilian
			has_reform = theatines_reform
		}
	}
	trigger = {
		OR = {
			primary_culture = neapolitan
			primary_culture = sicilian
			has_reform = theatines_reform
		}
	}
	modifiers = {
		papal_influence = 1
		global_missionary_strength = 0.02
	}
	custom_attributes = {
		enables_mary_of_the_purity = yes # -0.025 corruption per year per tolerance of the true faith over 4
	}
	ai = {
		factor = 100
	}
}
#Tier 8

#Tier 9

#Tier 10
constitution_of_melfi_reform = {
	icon = sicily_melfi
	allow_normal_conversion = yes
	effect = {
		change_variable = {
			which = Royal_Influence
			value = 1
		}
	}
	removed_effect = {
		change_variable = {
			which = Royal_Influence
			value = -1
		}
	}
	potential = {
		OR = {
			primary_culture = neapolitan
			primary_culture = sicilian
			has_reform = constitution_of_melfi_reform
		}
	}
	trigger = {
		OR = {
			primary_culture = neapolitan
			primary_culture = sicilian
			has_reform = constitution_of_melfi_reform
		}
	}
	modifiers = {
		max_absolutism = 5
		trade_efficiency = 0.05
		nobles_influence_modifier = -0.05
		church_influence_modifier = -0.10
	}
	custom_attributes = {
		enables_liber_augustalis = yes #-10% Estate Loyalty while you are over 90% Legitimacy
	}
	ai = {
		factor = 100
	}
}